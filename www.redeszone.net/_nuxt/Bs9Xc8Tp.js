import{m as P,g as s,o as a,j as o,F as f,r as I,i as h,q as g,s as p,v as m,b as M,t as L,aq as S,ar as w,y as z,z as v,p as k,h as x,n as d,l as $,k as b,H as C}from"./oPhCY1eG.js";const B={class:"category-pills"},H={key:1,class:"category-pills__pill"},T={key:1,class:"category-pills__pill"},q={__name:"CategoryPills",props:{categories:{type:Array,default:null},label:{type:String,default:""},scapeLink:{type:Boolean,default:!1}},setup(e){const c=e,u=t=>{const n=M();return t==="#"||c.scapeLink?!1:n.fullPath==="/"||!t.includes(n.fullPath)};return(t,n)=>{var l;const r=L;return a(),s("div",B,[(l=e.categories)!=null&&l.length?(a(!0),s(f,{key:0},I(e.categories,i=>(a(),s(f,{key:i.name},[u(i.url)?(a(),h(r,{key:0,class:"category-pills__pill",to:i.url},{default:g(()=>[p(m(i.name),1)]),_:2},1032,["to"])):(a(),s("span",H,m(i.name),1))],64))),128)):e.label?(a(),s("span",T,m(e.label),1)):o("",!0)])}}},N=P(q,[["__scopeId","data-v-6eb91fb7"]]);S.locale("es",w);function D(){return{getPostDate:(c,u=!1)=>{const t=c.substantialModification||c.created;let n="";return u&&(n=c.substantialModification?"Actualizado el ":"Publicado el "),`${n}${S(t).format("DD [de] MMMM, YYYY • HH:mm")}`}}}const A=()=>{const e=z([]);function c(t){if(!t)return"";const n=/<img.*?src=['"](.*?)['"]/i,r=t.replace(/\"/g,"'");if(e.value.includes(r))return"";e.value.push(r);const l=r.match(n);let i="";return l&&Array.isArray(l)&&l.length>1&&(i=l[1].replace("[timestamp]",String(Math.random()))),i}function u(t,n){if(!t)return;const r=c(n),l=document.createElement("img");l.src=r,l.width=0,l.height=0,l.style.border="0";const i=document.getElementById("t-pixel");i?i.appendChild(l):console.warn('No se encontró el contenedor con id="t-pixel".')}return{addPixel:u}},_={key:0,class:"article-card__base-image"},j=["src","loading","width","height","alt"],E=["src","loading"],F=["innerHTML"],V={key:1,class:"article-card__meta"},Y={key:0,class:"article-card__author"},O=["pubdate"],R=["innerHTML"],U=["innerHTML"],G={__name:"ArticleCard",props:{post:{type:Object,required:!0},type:{type:String,required:!1},showSummary:{type:Boolean,required:!1,default:!1},showMeta:{type:Boolean,required:!1,default:!0},lazyImage:{type:Boolean,default:!0},showFeaturedImage:{type:Boolean,default:!0},headingSize:{type:String,default:"medium",required:!1},headingTag:{type:String,default:"h2",validator:e=>["h1","h2","h3","h4","h5","h6"].includes(e)},articleImageHeight:{type:String,default:void 0,required:!1},sendTrackingPixel:{type:Boolean,default:!1},imageCropParams:{type:Object,required:!1,default:null},showCategories:{type:Boolean,default:!0},summaryLineClamp:{type:[Number,String],required:!1}},setup(e){const{getPostDate:c}=D(),{addPixel:u}=A(),t=e,n=r=>{if(!r)return"";if(!t.imageCropParams)return r;const l=new URLSearchParams(t.imageCropParams).toString(),i=r.includes("?")?"&":"?";return`${r}${i}${l}`};return v(()=>{t.sendTrackingPixel&&u(!!t.post.homePixel,t.post.homePixel||"",t.post.title)}),(r,l)=>{const i=N,y=L;return a(),s("article",{class:d(["article-card",e.type!==void 0?`article-card--${e.type}`:"",e.articleImageHeight!==void 0?`article-card--img-height-${e.articleImageHeight}`:""])},[e.showFeaturedImage?(a(),s("div",_,[e.post.heroImage?(a(),s("img",{key:0,src:n(e.post.heroImage.url),loading:e.lazyImage?"lazy":"eager",width:e.post.heroImage.width,height:e.post.heroImage.height,alt:e.post.heroImage.alt},null,8,j)):e.post.image?(a(),s("img",{key:1,src:n(e.post.image),loading:e.lazyImage?"lazy":"eager"},null,8,E)):o("",!0)])):o("",!0),k("div",{class:d(`article-card__group article-card__group--${e.headingSize}`)},[e.showCategories?(a(),h(i,{key:0,categories:e.post.categories,label:e.post.label},null,8,["categories","label"])):o("",!0),(a(),h($(e.headingTag),{class:d(["article-card__title",`article-card__title--size-${e.headingSize}`])},{default:g(()=>[x(y,{class:"article-card__link",to:e.post.url},{default:g(()=>[k("span",{innerHTML:e.post.title},null,8,F)]),_:1},8,["to"])]),_:1},8,["class"])),e.showMeta?(a(),s("div",V,[e.post.author?(a(),s("address",Y,[x(y,{rel:"author",to:e.post.author.url},{default:g(()=>[p(m(e.post.author.name),1)]),_:1},8,["to"])])):o("",!0),e.post.created||e.post.substantialModification?(a(),s("time",{key:1,class:"article-card__pubdate",pubdate:b(c)(e.post,!1)},m(b(c)(e.post,!1)),9,O)):o("",!0)])):o("",!0),e.showSummary&&e.type==="large"?(a(),s("div",{key:2,class:d(["article-card__summary",{"article-card__summary--lineclamp":e.summaryLineClamp}]),style:C(e.summaryLineClamp?{"--summary-line-clamp":e.summaryLineClamp}:{}),innerHTML:e.post.excerpt},null,14,R)):o("",!0)],2),e.showSummary&&e.type!=="large"?(a(),s("div",{key:1,class:d(["article-card__summary",{"article-card__summary--lineclamp":e.summaryLineClamp}]),style:C(e.summaryLineClamp?{"--summary-line-clamp":e.summaryLineClamp}:{}),innerHTML:e.post.excerpt},null,14,U)):o("",!0)],2)}}},K=P(G,[["__scopeId","data-v-ef9c352c"]]);export{N as _,D as a,K as b,A as u};
